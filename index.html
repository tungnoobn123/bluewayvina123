<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Bình chọn địa điểm du lịch công ty Blueway Vina 2025</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <meta name="description" content="Bình chọn địa điểm du lịch công ty Blueway Vina 2025">
    <meta name="keywords" content="Bình chọn địa điểm du lịch công ty Blueway Vina 2025">
    <meta property="og:site_name" content="Bình chọn địa điểm du lịch công ty Blueway Vina 2025">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Bình chọn địa điểm du lịch công ty Blueway Vina 2025">
    <meta property="og:url" content="https://tungnoobn123.github.io/bluewayvina123/img/blueway.jpg">
    <meta property="og:description" content="Bình chọn địa điểm du lịch công ty Blueway Vina 2025">
    <meta property="og:image" content="https://tungnoobn123.github.io/bluewayvina123/img/blueway.jpg">
    <meta property="og:image:url" content="https://tungnoobn123.github.io/bluewayvina123/img/blueway.jpg">
    <meta property="og:image:secure_url" content="https://tungnoobn123.github.io/bluewayvina123/img/blueway.jpg">
    <link rel="shortcut icon" type="image/x-icon" href="https://tungnoobn123.github.io/bluewayvina123/img/blueway.jpg">
    <style>
      

      body {
    background-image: url("./img/blueway.jpg");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
}
.card {
    background: rgba(255, 255, 255, 0.1); /* Làm trong suốt hơn */
    backdrop-filter: blur(20px); /* Làm mờ mạnh hơn */
    border-radius: 10px; /* Bo tròn góc */
    padding: 20px;
    box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.3); /* Đổ bóng để nổi bật hơn */
    border: 1px solid rgba(255, 255, 255, 0.3); /* Viền trắng nhẹ để tách biệt form với nền */
}
/* Thay đổi font chữ và làm đậm hơn */
.form-control {
    font-family: 'Arial', sans-serif; /* Thay đổi font chữ */
    font-weight: bold; /* Làm chữ đậm hơn */
}

/* Thay đổi font chữ cho các label */
label {
    font-family: 'Arial', sans-serif; /* Thay đổi font chữ */
    font-weight: bold; /* Làm chữ đậm hơn */
}
input {
    font-family: 'Arial', sans-serif; /* Thay đổi font chữ */
    font-weight: bold; /* Làm chữ đậm hơn */
}
a {
    font-family: 'Arial', sans-serif; /* Thay đổi font chữ */
    font-weight: bold; /* Làm chữ đậm hơn */
    color: black;
}

/* Thay đổi font chữ cho các nút button */
button.btn {
    font-family: 'Arial', sans-serif; /* Thay đổi font chữ */
    font-weight: bold; /* Làm chữ đậm hơn */
}
       
    </style>
</head>
<body >
    <!-- <img src="./img/blueway.jpg" alt="Test Image"> -->
    <div class="container-fluid">
        <header class="text-center">
            <marquee class="display-6" behavior="alternate" direction="left" scrollamount="10">
                <h1 class="display-6" >Bình chọn địa điểm du lịch công ty Blueway Vina 2025 </h1>
            </marquee>
        </header>
    </div>

    <div class="container">
       <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                
                <div class="card-body">
                    <form id="voteForm">
                        <!-- Mã thẻ -->
                        <div class="form-group">
                            <label for="cardCode">Mã thẻ:</label>
                            <input type="text" class="form-control" id="cardCode" placeholder="BWXXXXX">
                        </div>
        
                        <!-- Họ và tên -->
                        <div class="form-group">
                            <label for="fullName">Họ và tên:</label>
                            <input type="text" class="form-control" id="fullName" placeholder=""   >
                        </div>
        
                        <!-- Đưa người thân đi cùng -->
                        <div class="form-group">
                            <label>Đưa người thân đi cùng:</label>
                            <div class="custom-control custom-radio">
                                <input type="radio" id="customRadio1" name="bringFamily" class="custom-control-input" value="Có">
                                <label class="custom-control-label" for="customRadio1">Có</label>
                            </div>
                            <div class="custom-control custom-radio">
                                <input type="radio" id="customRadio2" name="bringFamily" class="custom-control-input" value="Không" checked>
                                <label class="custom-control-label" for="customRadio2">Không</label>
                            </div>
                        </div>
        
                        <!-- Nhập thông tin người thân -->
                        <div class="form-group d-none" id="containerLine">
                            <label for="familyInfo">Tên và tuổi:</label>
                            <input type="text" class="form-control" id="familyInfo" placeholder="">
                        </div>
        
                        <!-- Chọn địa điểm -->
                        <div class="form-group">
                            <label>Chọn địa điểm:</label>
                            <div class="custom-control custom-radio">
                                <input type="radio" id="customRadio3" name="location" class="custom-control-input" value="01. THUNG NHAM NINH BÌNH 1 DAY  探索Thung Nham鸟类花园 (一日游)">
                                <label class="custom-control-label" for="customRadio3"> <a href="https://tungnoobn123.github.io/bluewayvina123/img/01. THUNG NHAM NINH BÌNH 1 DAY  探索Thung Nham鸟类花园 (一日游).pdf" target="_blank">01. THUNG NHAM NINH BÌNH 1 DAY  探索Thung Nham鸟类花园 (一日游)</a></label>
                            </div>
                            <div class="custom-control custom-radio">
                                <input type="radio" id="customRadio4" name="location" class="custom-control-input" value="02. DEN HUNG- TÂY THIÊN 1DAY (北江 - 雄王庙 - 西天母庙一日游)">
                                <label class="custom-control-label" for="customRadio4"> <a href="https://tungnoobn123.github.io/bluewayvina123/img/02. DEN HUNG- TÂY THIÊN 1DAY (北江 - 雄王庙 - 西天母庙一日游).pdf" target="_blank">02. DEN HUNG- TÂY THIÊN 1DAY (北江 - 雄王庙 - 西天母庙一日游)</a></label>
                            </div>
                            <div class="custom-control custom-radio">
                                <input type="radio" id="customRadio5" name="location" class="custom-control-input" value="03. KHÁM PHÁ THỦY CUNG LOTTE TÂY HỒ- BUFFET SEN">
                                <label class="custom-control-label" for="customRadio5"> <a href="https://tungnoobn123.github.io/bluewayvina123/img/03. KHÁM PHÁ THỦY CUNG LOTTE TÂY HỒ- BUFFET SEN.pdf" target="_blank">03. KHÁM PHÁ THỦY CUNG LOTTE TÂY HỒ- BUFFET SEN</a></label>
                            </div>
                           
                        </div>
        
                        <button type="button" class="btn btn-primary" id="btnsave">Bình chọn</button>
                    </form>
                </div>
               
              </div>
           
        </div>
       </div>
        <!-- Hiển thị thông tin sau khi bấm nút -->
    <!-- <div class="mt-4">
        <h4>Thông tin bạn đã chọn:</h4>
        <p><strong>Mã thẻ:</strong> <span id="displayCardCode"></span></p>
        <p><strong>Họ và tên:</strong> <span id="displayFullName"></span></p>
        <p><strong>Đưa người thân đi cùng:</strong> <span id="displayBringFamily"></span></p>
        <p class="d-none" id="familyInfoContainer"><strong>Tên và tuổi:</strong> <span id="displayFamilyInfo"></span></p>
        <p><strong>Địa điểm đã chọn:</strong> <span id="displayLocation"></span></p>
    </div> -->
    </div>

 

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!--EXPORT EXCEL-->
   
    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    // Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyDhxnVgevg2_Mp5eFTWtgEAMDFz9Y5uGgE",
        authDomain: "tungnoobn.firebaseapp.com",
        projectId: "tungnoobn",
        storageBucket: "tungnoobn.appspot.com",
        messagingSenderId: "207168692116",
        appId: "1:207168692116:web:903456d7ae9d13de03f981"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
   
  

     

      document.addEventListener("DOMContentLoaded", function () {
        let bringFamilyRadios = document.getElementsByName("bringFamily");
        let containerLine = document.getElementById("containerLine");

        function toggleFamilyFields() {
            if (document.getElementById("customRadio1").checked) {
                containerLine.classList.remove("d-none");
            } else {
                containerLine.classList.add("d-none");
            }
        }

        bringFamilyRadios.forEach(radio => {
            radio.addEventListener("change", toggleFamilyFields);
        });

        document.getElementById("btnsave").addEventListener("click", function () {
            //alert(1);
            let cardCode = document.getElementById("cardCode").value;
            let fullName = document.getElementById("fullName").value;

            let bringFamily = document.querySelector('input[name="bringFamily"]:checked').value;
            let familyInfo = document.getElementById("familyInfo").value;

            let selectedLocation = document.querySelector('input[name="location"]:checked');
            let locationText = selectedLocation ? selectedLocation.value : "Chưa chọn địa điểm";

            if(cardCode=="")
            {
                Swal.fire({
                    //position: "top-end",
                    icon: "warning",
                    title: "Nhập mã thẻ",
                    showConfirmButton: false,
                    timer: 2000
                });
                return;
            }
            else if(fullName=="")
            {
                Swal.fire({
                    //position: "top-end",
                    icon: "warning",
                    title: "Nhập họ và tên",
                    showConfirmButton: false,
                    timer: 2000
                });
                return;
            }
            if(bringFamily==="Có")
            {
                if(familyInfo=="")
                {
                    Swal.fire({
                    //position: "top-end",
                    icon: "warning",
                    title: "Nhập tên và tuổi người đi cùng",
                    showConfirmButton: false,
                    timer: 2000
                    });
                    return;
                }
            }
            else
            {
                familyInfo="";
            }
            if(locationText=="Chưa chọn địa điểm")
            {
                Swal.fire({
                    //position: "top-end",
                    icon: "warning",
                    title: "Chọn địa điểm",
                    showConfirmButton: false,
                    timer: 2000
                    });
                    return;
            }
           //alert(locationText);
           // Tạo chuỗi theo định dạng yyyMMddHHmmsss
           var currentDate = new Date();
        // alert( $("#txtName").val());
        // alert(nd);
        // Lấy các thành phần ngày, giờ, phút, giây và mili giây
        var year = currentDate.getFullYear().toString(); // Năm
        var month = ('0' + (currentDate.getMonth() + 1)).slice(-2); // Tháng (thêm '0' phía trước nếu số tháng < 10)
        var day = ('0' + currentDate.getDate()).slice(-2); // Ngày (thêm '0' phía trước nếu số ngày < 10)
        var hours = ('0' + currentDate.getHours()).slice(-2); // Giờ (thêm '0' phía trước nếu số giờ < 10)
        var minutes = ('0' + currentDate.getMinutes()).slice(-2); // Phút (thêm '0' phía trước nếu số phút < 10)
        var seconds = ('0' + currentDate.getSeconds()).slice(-2); // Giây (thêm '0' phía trước nếu số giây < 10)
        var milliseconds = ('00' + currentDate.getMilliseconds()).slice(-3); // Mili giây (thêm '00' hoặc '0' phía trước nếu số mili giây < 10 hoặc < 100)
            var formattedDate = year + month + day + hours + minutes + seconds + milliseconds;
                //alert(formattedDate); 
                set(ref(db,"noidung2/"+formattedDate),{
                    userid:cardCode,
                    username:fullName,
                    bringFamily:bringFamily,
                    familyInfo:familyInfo,
                    locationText:locationText
                })
                .then(()=>{
                    Swal.fire({
                                    //position: "top-end",
                                    icon: "success",
                                    title: "Bình chọn đi :"+locationText+" thành công  <br> Xin cảm ơn "+fullName+" <_> <br> Chúc bạn có chuyển đi vui vẻ ",
                                    showConfirmButton: false,
                                    timer: 5000
                                });
                                
                })
                .catch((error)=>{
                    Swal.fire({
                    //position: "top-end",
                    icon: "warning",
                    title: error,
                    showConfirmButton: false,
                    timer: 2000
                    });
                    return;
                })
            
              
        });

        toggleFamilyFields(); // Đảm bảo trạng thái ban đầu đúng

        
    });
    </script>
</body>
</html>